<!doctype html>
<html>
    <head>
        <title>Spooky Chat</title>
        <style>
            #snd-msg {
                background: tan;
            }
            #rcvd-msg {
                background: beige;
            }
        </style>
    </head>
    <body>
        <ul id="snd-msg"></ul>
        <ul id="rcvd-msg"></ul>
        <form action="" name="msginput">
            <input id="msg" autocomplete="off" />
            <button>Send</button>
        </form>

        <script src="/scripts/socket.io-client/socket.io.js"></script>
        <script>
            'use strict';

            var socket = io();
            document.msginput.onsubmit = function() {
                //debugger;
                var msg = document.querySelector('#msg').value;
                console.log(msg);
                socket.emit('chat message', msg);

                var list = document.createElement('li');
                list.innerHTML = msg;
                document.querySelector('#snd-msg').appendChild(list);

                document.querySelector('#msg').value = '';
                return false;
            };
            socket.on('receive message', function(msg) {
                var list = document.createElement('li');
                list.innerHTML = msg;
                document.querySelector('#rcvd-msg').appendChild(list);
            });
        </script>
    </body>
</html>

